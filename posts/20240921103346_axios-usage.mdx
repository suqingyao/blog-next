---
  id: 20240921103346_axios-usage
  title: 基于axios二次封装
  createdTime: 2024-09-21 10:33:46
  published: false
  tags:
    - axios
---

## 安装

```bash
npm install axios
```

## 基本使用

```javascript
import axios from 'axios';

axios
  .get('https://api.example.com/data')
  .then((response) => {
    console.log(response.data);
  })
  .catch((error) => {
    console.error(error);
  });
```

## 请求配置

```javascript
axios({
  method: 'get',
  url: 'https://api.example.com/data',
  params: {
    id: 1
  },
  headers: {
    'Content-Type': 'application/json'
  }
});
```

## 响应处理

```javascript
axios
  .get('https://api.example.com/data')
  .then((response) => {
    console.log(response.data);
  })
  .catch((error) => {
    console.error(error);
  });
```

## 拦截器

```javascript
axios.interceptors.request.use((config) => {
  console.log('Request:', config);
  return config;
});
```

## 取消请求

```javascript
const cancelToken = axios.CancelToken;
const source = cancelToken.source();

axios
  .get('https://api.example.com/data', { cancelToken: source.token })
  .then((response) => {
    console.log(response.data);
  })
  .catch((error) => {
    console.error(error);
  });

source.cancel('Operation canceled by the user.');
```

## 错误处理

```javascript
axios
  .get('https://api.example.com/data')
  .then((response) => {
    console.log(response.data);
  })
  .catch((error) => {
    console.error(error);
  });
```

## 并发请求

```javascript
axios.all([
  axios.get('https://api.example.com/data1'),
  axios.get('https://api.example.com/data2')
]);
```
